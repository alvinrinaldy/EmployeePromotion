sap.ui.define(["sap/ui/base/ManagedObject","sap/m/MessageBox","./utilities","sap/ui/core/routing/History"],function(t,i,e,n){return t.extend("ZAL.Promosi.controller.SelectDialog1",{constructor:function(t){this._oView=t;this._oControl=sap.ui.xmlfragment(t.getId(),"ZAL.Promosi.view.SelectDialog1",this);this._bInit=false},exit:function(){delete this._oView},getView:function(){return this._oView},getControl:function(){return this._oControl},getOwnerComponent:function(){return this._oView.getController().getOwnerComponent()},open:function(){var t=this._oView;var i=this._oControl;if(!this._bInit){this.onInit();this._bInit=true;t.addDependent(i)}var e=Array.prototype.slice.call(arguments);if(i.open){i.open.apply(i,e)}else if(i.openBy){i.openBy.apply(i,e)}},close:function(){this._oControl.close()},setRouter:function(t){this.oRouter=t},getBindingParameters:function(){return{}},_onSelectDialogLiveChange:function(t){var e="sap_m_SelectDialog_0";var n=this.getView().byId(e);var o=t.getParameter("query")||t.getParameter("newValue")||t.getParameter("value");var r=t.getSource().getId();return new Promise(function(t){var i=[];var s=[];if(o&&o.length>0){}var i=s.length>0?[new sap.ui.model.Filter(s,false)]:[];var a=this.updateBindingOptions(e,{filters:i},r);var l=n.getBindingInfo("items");if(l){n.bindAggregation("items",{model:l.model,path:l.path,parameters:l.parameters,template:l.template,templateShareable:true,sorter:a.sorters,filters:a.filters})}}.bind(this)).catch(function(t){if(t!==undefined){i.error(t.message)}})},updateBindingOptions:function(t,i,e){this.mBindingOptions=this.mBindingOptions||{};this.mBindingOptions[t]=this.mBindingOptions[t]||{};var n=this.mBindingOptions[t].sorters;var o=this.mBindingOptions[t].groupby;if(i){if(i.sorters){n=i.sorters}if(i.groupby||i.groupby===null){o=i.groupby}this.mBindingOptions[t].sorters=n;this.mBindingOptions[t].groupby=o;this.mBindingOptions[t].filters=this.mBindingOptions[t].filters||{};this.mBindingOptions[t].filters[e]=i.filters||[]}var r=[];for(var s in this.mBindingOptions[t].filters){r=r.concat(this.mBindingOptions[t].filters[s])}if(o){n=n?o.concat(n):o}var a=r.length>0?[new sap.ui.model.Filter(r,true)]:undefined;return{filters:a,sorters:n}},onInit:function(){this._oDialog=this.getControl()},onExit:function(){this._oDialog.destroy()}})},true);